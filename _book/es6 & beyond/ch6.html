
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Chapter 6: API Additions Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search-plus/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-anchor-navigation-ex/style/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-splitter/splitter.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-prism/prism-okaidia.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-theme-comscore/test.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="ch7.html" />
    
    
    <link rel="prev" href="ch5.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../preface.html">
            
                <a href="../preface.html">
            
                    
                    Preface
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../up & going/toc.html">
            
                <a href="../up & going/toc.html">
            
                    
                    Up & Going
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../up & going/foreword.html">
            
                <a href="../up & going/foreword.html">
            
                    
                    Foreword
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../up & going/ch1.html">
            
                <a href="../up & going/ch1.html">
            
                    
                    Chapter 1: Into Programming
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../up & going/ch2.html">
            
                <a href="../up & going/ch2.html">
            
                    
                    Chapter 2: Into JavaScript
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="../up & going/ch3.html">
            
                <a href="../up & going/ch3.html">
            
                    
                    Chapter 3: Into YDKJS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5" data-path="../up & going/apA.html">
            
                <a href="../up & going/apA.html">
            
                    
                    Appendix A: Thank You's!
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../Scope & Closures/toc.html">
            
                <a href="../Scope & Closures/toc.html">
            
                    
                    Scope & Closures
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../Scope & Closures/ch1.html">
            
                <a href="../Scope & Closures/ch1.html">
            
                    
                    Chapter 1: What is Scope?
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../Scope & Closures/ch2.html">
            
                <a href="../Scope & Closures/ch2.html">
            
                    
                    Chapter 2: Lexical Scope
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../Scope & Closures/ch3.html">
            
                <a href="../Scope & Closures/ch3.html">
            
                    
                    Chapter 3: Function vs. Block Scope
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="../Scope & Closures/ch4.html">
            
                <a href="../Scope & Closures/ch4.html">
            
                    
                    Chapter 4: Hoisting
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="../Scope & Closures/ch5.html">
            
                <a href="../Scope & Closures/ch5.html">
            
                    
                    Chapter 5: Scope Closures
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6" data-path="../Scope & Closures/apA.html">
            
                <a href="../Scope & Closures/apA.html">
            
                    
                    Appendix A: Dynamic Scope
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7" data-path="../Scope & Closures/apB.html">
            
                <a href="../Scope & Closures/apB.html">
            
                    
                    Appendix B: Polyfilling Block Scope
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8" data-path="../Scope & Closures/apC.html">
            
                <a href="../Scope & Closures/apC.html">
            
                    
                    Appendix C: Lexical-this
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.9" data-path="../Scope & Closures/apD.html">
            
                <a href="../Scope & Closures/apD.html">
            
                    
                    Appendix D: Thank You's!
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../this & Object Prototypes/toc.html">
            
                <a href="../this & Object Prototypes/toc.html">
            
                    
                    this & Object Prototypes
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../this & Object Prototypes/foreword.html">
            
                <a href="../this & Object Prototypes/foreword.html">
            
                    
                    Foreword
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../this & Object Prototypes/ch1.html">
            
                <a href="../this & Object Prototypes/ch1.html">
            
                    
                    Chapter 1: this Or That?
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="../this & Object Prototypes/ch2.html">
            
                <a href="../this & Object Prototypes/ch2.html">
            
                    
                    Chapter 2: this All Makes Sense Now!
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4" data-path="../this & Object Prototypes/ch3.html">
            
                <a href="../this & Object Prototypes/ch3.html">
            
                    
                    Chapter 3: Objects
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5" data-path="../this & Object Prototypes/ch4.html">
            
                <a href="../this & Object Prototypes/ch4.html">
            
                    
                    Chapter 4: Mixing (Up) "Class" Objects
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.6" data-path="../this & Object Prototypes/ch5.html">
            
                <a href="../this & Object Prototypes/ch5.html">
            
                    
                    Chapter 5: Prototypes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7" data-path="../this & Object Prototypes/ch6.html">
            
                <a href="../this & Object Prototypes/ch6.html">
            
                    
                    Chapter 6: Behavior Delegation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.8" data-path="../this & Object Prototypes/apA.html">
            
                <a href="../this & Object Prototypes/apA.html">
            
                    
                    Appendix A: ES6 class
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.9" data-path="../this & Object Prototypes/apB.html">
            
                <a href="../this & Object Prototypes/apB.html">
            
                    
                    Appendix B: Thank You's!
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../Types & Grammar/toc.html">
            
                <a href="../Types & Grammar/toc.html">
            
                    
                    Types & Grammar
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../Types & Grammar/foreword.html">
            
                <a href="../Types & Grammar/foreword.html">
            
                    
                    Foreword
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="../Types & Grammar/ch1.html">
            
                <a href="../Types & Grammar/ch1.html">
            
                    
                    Chapter 1: Types
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="../Types & Grammar/ch2.html">
            
                <a href="../Types & Grammar/ch2.html">
            
                    
                    Chapter 2: Values
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4" data-path="../Types & Grammar/ch3.html">
            
                <a href="../Types & Grammar/ch3.html">
            
                    
                    Chapter 3: Natives
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.5" data-path="../Types & Grammar/ch4.html">
            
                <a href="../Types & Grammar/ch4.html">
            
                    
                    Chapter 4: Coercion
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.6" data-path="../Types & Grammar/ch5.html">
            
                <a href="../Types & Grammar/ch5.html">
            
                    
                    Chapter 5: Grammar
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.7" data-path="../Types & Grammar/apA.html">
            
                <a href="../Types & Grammar/apA.html">
            
                    
                    Appendix A: Mixed Environment JavaScript
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.8" data-path="../Types & Grammar/apB.html">
            
                <a href="../Types & Grammar/apB.html">
            
                    
                    Appendix B: Thank You's!
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../Async & Performance/toc.html">
            
                <a href="../Async & Performance/toc.html">
            
                    
                    Async & Performance
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="../Async & Performance/foreword.html">
            
                <a href="../Async & Performance/foreword.html">
            
                    
                    Foreword
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="../Async & Performance/ch1.html">
            
                <a href="../Async & Performance/ch1.html">
            
                    
                    Chapter 1: Asynchrony: Now & Later
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3" data-path="../Async & Performance/ch2.html">
            
                <a href="../Async & Performance/ch2.html">
            
                    
                    Chapter 2: Callbacks
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.4" data-path="../Async & Performance/ch3.html">
            
                <a href="../Async & Performance/ch3.html">
            
                    
                    Chapter 3: Promises
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.5" data-path="../Async & Performance/ch4.html">
            
                <a href="../Async & Performance/ch4.html">
            
                    
                    Chapter 4: Generators
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.6" data-path="../Async & Performance/ch5.html">
            
                <a href="../Async & Performance/ch5.html">
            
                    
                    Chapter 5: Program Performance
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.7" data-path="../Async & Performance/ch6.html">
            
                <a href="../Async & Performance/ch6.html">
            
                    
                    Chapter 6: Benchmarking & Tuning
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.8" data-path="../Async & Performance/apA.html">
            
                <a href="../Async & Performance/apA.html">
            
                    
                    Appendix A: Library: asynquence
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.9" data-path="../Async & Performance/apB.html">
            
                <a href="../Async & Performance/apB.html">
            
                    
                    Appendix B: Advanced Async Patterns
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.10" data-path="../Async & Performance/apC.html">
            
                <a href="../Async & Performance/apC.html">
            
                    
                    Appendix C: Thank You's!
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="toc.html">
            
                <a href="toc.html">
            
                    
                    ES6 & Beyond
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="foreword.html">
            
                <a href="foreword.html">
            
                    
                    Foreword
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="ch1.html">
            
                <a href="ch1.html">
            
                    
                    Chapter 1: ES? Now & Future
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3" data-path="ch2.html">
            
                <a href="ch2.html">
            
                    
                    Chapter 2: Syntax
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4" data-path="ch3.html">
            
                <a href="ch3.html">
            
                    
                    Chapter 3: Organization
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.5" data-path="ch4.html">
            
                <a href="ch4.html">
            
                    
                    Chapter 4: Async Flow Control
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.6" data-path="ch5.html">
            
                <a href="ch5.html">
            
                    
                    Chapter 5: Collections
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.8.7" data-path="ch6.html">
            
                <a href="ch6.html">
            
                    
                    Chapter 6: API Additions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.8" data-path="ch7.html">
            
                <a href="ch7.html">
            
                    
                    Chapter 7: Meta Programming
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.9" data-path="ch8.html">
            
                <a href="ch8.html">
            
                    
                    Chapter 8: Beyond ES6
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.10" data-path="apA.html">
            
                <a href="apA.html">
            
                    
                    Appendix A: Thank You's!
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Chapter 6: API Additions</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div class="search-plus" id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <div id="anchor-navigation-ex-navbar"><i class="fa fa-navicon"></i><ul><li><span class="title-icon "></span><a href="#you-dont-know-js-es6--beyond"><b>1. </b>You Don&apos;t Know JS: ES6 &amp; Beyond</a></li><li><span class="title-icon "></span><a href="#chapter-6-api-additions"><b>2. </b>Chapter 6: API Additions</a></li><ul><li><span class="title-icon "></span><a href="#array"><b>2.1. </b>Array</a></li><ul><li><span class="title-icon "></span><a href="#arrayof-static-function"><b>2.1.1. </b>Array.of(..) Static Function</a></li><li><span class="title-icon "></span><a href="#arrayfrom-static-function"><b>2.1.2. </b>Array.from(..) Static Function</a></li><li><span class="title-icon "></span><a href="#creating-arrays-and-subtypes"><b>2.1.3. </b>Creating Arrays and Subtypes</a></li><li><span class="title-icon "></span><a href="#copywithin-prototype-method"><b>2.1.4. </b>copyWithin(..) Prototype Method</a></li><li><span class="title-icon "></span><a href="#fill-prototype-method"><b>2.1.5. </b>fill(..) Prototype Method</a></li><li><span class="title-icon "></span><a href="#find-prototype-method"><b>2.1.6. </b>find(..) Prototype Method</a></li><li><span class="title-icon "></span><a href="#findindex-prototype-method"><b>2.1.7. </b>findIndex(..) Prototype Method</a></li><li><span class="title-icon "></span><a href="#entries-values-keys-prototype-methods"><b>2.1.8. </b>entries(), values(), keys() Prototype Methods</a></li></ul><li><span class="title-icon "></span><a href="#object"><b>2.2. </b>Object</a></li><ul><li><span class="title-icon "></span><a href="#objectis-static-function"><b>2.2.1. </b>Object.is(..) Static Function</a></li><li><span class="title-icon "></span><a href="#objectgetownpropertysymbols-static-function"><b>2.2.2. </b>Object.getOwnPropertySymbols(..) Static Function</a></li><li><span class="title-icon "></span><a href="#objectsetprototypeof-static-function"><b>2.2.3. </b>Object.setPrototypeOf(..) Static Function</a></li><li><span class="title-icon "></span><a href="#objectassign-static-function"><b>2.2.4. </b>Object.assign(..) Static Function</a></li></ul><li><span class="title-icon "></span><a href="#math"><b>2.3. </b>Math</a></li><li><span class="title-icon "></span><a href="#number"><b>2.4. </b>Number</a></li><ul><li><span class="title-icon "></span><a href="#static-properties"><b>2.4.1. </b>Static Properties</a></li><li><span class="title-icon "></span><a href="#numberisnan-static-function"><b>2.4.2. </b>Number.isNaN(..) Static Function</a></li><li><span class="title-icon "></span><a href="#numberisfinite-static-function"><b>2.4.3. </b>Number.isFinite(..) Static Function</a></li><li><span class="title-icon "></span><a href="#integer-related-static-functions"><b>2.4.4. </b>Integer-Related Static Functions</a></li></ul><li><span class="title-icon "></span><a href="#string"><b>2.5. </b>String</a></li><ul><li><span class="title-icon "></span><a href="#unicode-functions"><b>2.5.1. </b>Unicode Functions</a></li><li><span class="title-icon "></span><a href="#stringraw-static-function"><b>2.5.2. </b>String.raw(..) Static Function</a></li><li><span class="title-icon "></span><a href="#repeat-prototype-function"><b>2.5.3. </b>repeat(..) Prototype Function</a></li><li><span class="title-icon "></span><a href="#string-inspection-functions"><b>2.5.4. </b>String Inspection Functions</a></li></ul><li><span class="title-icon "></span><a href="#review"><b>2.6. </b>Review</a></li></ul></ul></div><a href="#you-dont-know-js-es6--beyond" id="anchorNavigationExGoTop"><i class="fa fa-arrow-up"></i></a><h1 id="you-dont-know-js-es6--beyond"><a name="you-dont-know-js-es6--beyond" class="anchor-navigation-ex-anchor" href="#you-dont-know-js-es6--beyond"><i class="fa fa-link" aria-hidden="true"></i></a>1. You Don&apos;t Know JS: ES6 &amp; Beyond</h1>
<h1 id="chapter-6-api-additions"><a name="chapter-6-api-additions" class="anchor-navigation-ex-anchor" href="#chapter-6-api-additions"><i class="fa fa-link" aria-hidden="true"></i></a>2. Chapter 6: API Additions</h1>
<p>From conversions of values to mathematic calculations, ES6 adds many static properties and methods to various built-in natives and objects to help with common tasks. In addition, instances of some of the natives have new capabilities via various new prototype methods.</p>
<p><strong>Note:</strong> Most of these features can be faithfully polyfilled. We will not dive into such details here, but check out &quot;ES6 Shim&quot; (<a href="https://github.com/paulmillr/es6-shim/" target="_blank">https://github.com/paulmillr/es6-shim/</a>) for standards-compliant shims/polyfills.</p>
<h2 id="array"><a name="array" class="anchor-navigation-ex-anchor" href="#array"><i class="fa fa-link" aria-hidden="true"></i></a>2.1. Array</h2>
<p>One of the most commonly extended features in JS by various user libraries is the Array type. It should be no surprise that ES6 adds a number of helpers to Array, both static and prototype (instance).</p>
<h3 id="arrayof-static-function"><a name="arrayof-static-function" class="anchor-navigation-ex-anchor" href="#arrayof-static-function"><i class="fa fa-link" aria-hidden="true"></i></a>2.1.1. Array.of(..) Static Function</h3>
<p>There&apos;s a well known gotcha with the <code>Array(..)</code> constructor, which is that if there&apos;s only one argument passed, and that argument is a number, instead of making an array of one element with that number value in it, it constructs an empty array with a <code>length</code> property equal to the number. This action produces the unfortunate and quirky &quot;empty slots&quot; behavior that&apos;s reviled about JS arrays.</p>
<p><code>Array.of(..)</code> replaces <code>Array(..)</code> as the preferred function-form constructor for arrays, because <code>Array.of(..)</code> does not have that special single-number-argument case. Consider:</p>
<pre class="language-"><code class="lang-js"><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token function">Array</span><span class="token punctuation">(</span> <span class="token number">3</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
a<span class="token punctuation">.</span>length<span class="token punctuation">;</span>                        <span class="token comment">// 3</span>
a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>                            <span class="token comment">// undefined</span>

<span class="token keyword">var</span> b <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token keyword">of</span><span class="token punctuation">(</span> <span class="token number">3</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
b<span class="token punctuation">.</span>length<span class="token punctuation">;</span>                        <span class="token comment">// 1</span>
b<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>                            <span class="token comment">// 3</span>

<span class="token keyword">var</span> c <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token keyword">of</span><span class="token punctuation">(</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
c<span class="token punctuation">.</span>length<span class="token punctuation">;</span>                        <span class="token comment">// 3</span>
c<span class="token punctuation">;</span>                                <span class="token comment">// [1,2,3]</span>
</code></pre>
<p>Under what circumstances would you want to use <code>Array.of(..)</code> instead of just creating an array with literal syntax, like <code>c = [1,2,3]</code>? There&apos;s two possible cases.</p>
<p>If you have a callback that&apos;s supposed to wrap argument(s) passed to it in an array, <code>Array.of(..)</code> fits the bill perfectly. That&apos;s probably not terribly common, but it may scratch an itch for you.</p>
<p>The other scenario is if you subclass <code>Array</code> (see &quot;Classes&quot; in Chapter 3) and want to be able to create and initialize elements in an instance of your subclass, such as:</p>
<pre class="language-"><code class="lang-js"><span class="token keyword">class</span> <span class="token class-name">MyCoolArray</span> <span class="token keyword">extends</span> <span class="token class-name">Array</span> <span class="token punctuation">{</span>
    <span class="token function">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span> <span class="token keyword">function</span> <span class="token function">reducer</span><span class="token punctuation">(</span>acc<span class="token punctuation">,</span>curr<span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">return</span> acc <span class="token operator">+</span> curr<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyCoolArray</span><span class="token punctuation">(</span> <span class="token number">3</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
x<span class="token punctuation">.</span>length<span class="token punctuation">;</span>                        <span class="token comment">// 3 -- oops!</span>
x<span class="token punctuation">.</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token comment">// 0 -- oops!</span>

<span class="token keyword">var</span> y <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>                    <span class="token comment">// Array, not MyCoolArray</span>
y<span class="token punctuation">.</span>length<span class="token punctuation">;</span>                        <span class="token comment">// 1</span>
y<span class="token punctuation">.</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token comment">// `sum` is not a function</span>

<span class="token keyword">var</span> z <span class="token operator">=</span> MyCoolArray<span class="token punctuation">.</span><span class="token keyword">of</span><span class="token punctuation">(</span> <span class="token number">3</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
z<span class="token punctuation">.</span>length<span class="token punctuation">;</span>                        <span class="token comment">// 1</span>
z<span class="token punctuation">.</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token comment">// 3</span>
</code></pre>
<p>You can&apos;t just (easily) create a constructor for <code>MyCoolArray</code> that overrides the behavior of the <code>Array</code> parent constructor, because that constructor is necessary to actually create a well-behaving array value (initializing the <code>this</code>). The &quot;inherited&quot; static <code>of(..)</code> method on the <code>MyCoolArray</code> subclass provides a nice solution.</p>
<h3 id="arrayfrom-static-function"><a name="arrayfrom-static-function" class="anchor-navigation-ex-anchor" href="#arrayfrom-static-function"><i class="fa fa-link" aria-hidden="true"></i></a>2.1.2. Array.from(..) Static Function</h3>
<p>An &quot;array-like object&quot; in JavaScript is an object that has a <code>length</code> property on it, specifically with an integer value of zero or higher.</p>
<p>These values have been notoriously frustrating to work with in JS; it&apos;s been quite common to need to transform them into an actual array, so that the various <code>Array.prototype</code> methods (<code>map(..)</code>, <code>indexOf(..)</code> etc.) are available to use with it. That process usually looks like:</p>
<pre class="language-"><code class="lang-js"><span class="token comment">// array-like object</span>
<span class="token keyword">var</span> arrLike <span class="token operator">=</span> <span class="token punctuation">{</span>
    length<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
    <span class="token number">0</span><span class="token punctuation">:</span> <span class="token string">&quot;foo&quot;</span><span class="token punctuation">,</span>
    <span class="token number">1</span><span class="token punctuation">:</span> <span class="token string">&quot;bar&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> arr <span class="token operator">=</span> Array<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>slice<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span> arrLike <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>Another common task where <code>slice(..)</code> is often used is in duplicating a real array:</p>
<pre class="language-"><code class="lang-js"><span class="token keyword">var</span> arr2 <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>In both cases, the new ES6 <code>Array.from(..)</code> method can be a more understandable and graceful -- if also less verbose -- approach:</p>
<pre class="language-"><code class="lang-js"><span class="token keyword">var</span> arr <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token keyword">from</span><span class="token punctuation">(</span> arrLike <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> arrCopy <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token keyword">from</span><span class="token punctuation">(</span> arr <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><code>Array.from(..)</code> looks to see if the first argument is an iterable (see &quot;Iterators&quot; in Chapter 3), and if so, it uses the iterator to produce values to &quot;copy&quot; into the returned array. Because real arrays have an iterator for those values, that iterator is automatically used.</p>
<p>But if you pass an array-like object as the first argument to <code>Array.from(..)</code>, it behaves basically the same as <code>slice()</code> (no arguments!) or <code>apply(..)</code> does, which is that it simply loops over the value, accessing numerically named properties from <code>0</code> up to whatever the value of <code>length</code> is.</p>
<p>Consider:</p>
<pre class="language-"><code class="lang-js"><span class="token keyword">var</span> arrLike <span class="token operator">=</span> <span class="token punctuation">{</span>
    length<span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
    <span class="token number">2</span><span class="token punctuation">:</span> <span class="token string">&quot;foo&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

Array<span class="token punctuation">.</span><span class="token keyword">from</span><span class="token punctuation">(</span> arrLike <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// [ undefined, undefined, &quot;foo&quot;, undefined ]</span>
</code></pre>
<p>Because positions <code>0</code>, <code>1</code>, and <code>3</code> didn&apos;t exist on <code>arrLike</code>, the result was the <code>undefined</code> value for each of those slots.</p>
<p>You could produce a similar outcome like this:</p>
<pre class="language-"><code class="lang-js"><span class="token keyword">var</span> emptySlotsArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
emptySlotsArr<span class="token punctuation">.</span>length <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>
emptySlotsArr<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;foo&quot;</span><span class="token punctuation">;</span>

Array<span class="token punctuation">.</span><span class="token keyword">from</span><span class="token punctuation">(</span> emptySlotsArr <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// [ undefined, undefined, &quot;foo&quot;, undefined ]</span>
</code></pre>
<h4 id="avoiding-empty-slots"><a name="avoiding-empty-slots" class="anchor-navigation-ex-anchor" href="#avoiding-empty-slots"><i class="fa fa-link" aria-hidden="true"></i></a>Avoiding Empty Slots</h4>
<p>There&apos;s a subtle but important difference in the previous snippet between the <code>emptySlotsArr</code> and the result of the <code>Array.from(..)</code> call. <code>Array.from(..)</code> never produces empty slots.</p>
<p>Prior to ES6, if you wanted to produce an array initialized to a certain length with actual <code>undefined</code> values in each slot (no empty slots!), you had to do extra work:</p>
<pre class="language-"><code class="lang-js"><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token function">Array</span><span class="token punctuation">(</span> <span class="token number">4</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>                                <span class="token comment">// four empty slots!</span>

<span class="token keyword">var</span> b <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> length<span class="token punctuation">:</span> <span class="token number">4</span> <span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// four `undefined` values</span>
</code></pre>
<p>But <code>Array.from(..)</code> now makes this easier:</p>
<pre class="language-"><code class="lang-js"><span class="token keyword">var</span> c <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token keyword">from</span><span class="token punctuation">(</span> <span class="token punctuation">{</span> length<span class="token punctuation">:</span> <span class="token number">4</span> <span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">// four `undefined` values</span>
</code></pre>
<p><strong>Warning:</strong> Using an empty slot array like <code>a</code> in the previous snippets would work with some array functions, but others ignore empty slots (like <code>map(..)</code>, etc.). You should never intentionally work with empty slots, as it will almost certainly lead to strange/unpredictable behavior in your programs.</p>
<h4 id="mapping"><a name="mapping" class="anchor-navigation-ex-anchor" href="#mapping"><i class="fa fa-link" aria-hidden="true"></i></a>Mapping</h4>
<p>The <code>Array.from(..)</code> utility has another helpful trick up its sleeve. The second argument, if provided, is a mapping callback (almost the same as the regular <code>Array#map(..)</code> expects) which is called to map/transform each value from the source to the returned target. Consider:</p>
<pre class="language-"><code class="lang-js"><span class="token keyword">var</span> arrLike <span class="token operator">=</span> <span class="token punctuation">{</span>
    length<span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
    <span class="token number">2</span><span class="token punctuation">:</span> <span class="token string">&quot;foo&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

Array<span class="token punctuation">.</span><span class="token keyword">from</span><span class="token punctuation">(</span> arrLike<span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token function">mapper</span><span class="token punctuation">(</span>val<span class="token punctuation">,</span>idx<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> val <span class="token operator">==</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> val<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> idx<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// [ 0, 1, &quot;FOO&quot;, 3 ]</span>
</code></pre>
<p><strong>Note:</strong> As with other array methods that take callbacks, <code>Array.from(..)</code> takes an optional third argument that if set will specify the <code>this</code> binding for the callback passed as the second argument. Otherwise, <code>this</code> will be <code>undefined</code>.</p>
<p>See &quot;TypedArrays&quot; in Chapter 5 for an example of using <code>Array.from(..)</code> in translating values from an array of 8-bit values to an array of 16-bit values.</p>
<h3 id="creating-arrays-and-subtypes"><a name="creating-arrays-and-subtypes" class="anchor-navigation-ex-anchor" href="#creating-arrays-and-subtypes"><i class="fa fa-link" aria-hidden="true"></i></a>2.1.3. Creating Arrays and Subtypes</h3>
<p>In the last couple of sections, we&apos;ve discussed <code>Array.of(..)</code> and <code>Array.from(..)</code>, both of which create a new array in a similar way to a constructor. But what do they do in subclasses? Do they create instances of the base <code>Array</code> or the derived subclass?</p>
<pre class="language-"><code class="lang-js"><span class="token keyword">class</span> <span class="token class-name">MyCoolArray</span> <span class="token keyword">extends</span> <span class="token class-name">Array</span> <span class="token punctuation">{</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>

MyCoolArray<span class="token punctuation">.</span><span class="token keyword">from</span><span class="token punctuation">(</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token keyword">instanceof</span> <span class="token class-name">MyCoolArray</span><span class="token punctuation">;</span>    <span class="token comment">// true</span>

Array<span class="token punctuation">.</span><span class="token keyword">from</span><span class="token punctuation">(</span>
    MyCoolArray<span class="token punctuation">.</span><span class="token keyword">from</span><span class="token punctuation">(</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span> <span class="token punctuation">)</span>
<span class="token punctuation">)</span> <span class="token keyword">instanceof</span> <span class="token class-name">MyCoolArray</span><span class="token punctuation">;</span>                            <span class="token comment">// false</span>
</code></pre>
<p>Both <code>of(..)</code> and <code>from(..)</code> use the constructor that they&apos;re accessed from to construct the array. So if you use the base <code>Array.of(..)</code> you&apos;ll get an <code>Array</code> instance, but if you use <code>MyCoolArray.of(..)</code>, you&apos;ll get a <code>MyCoolArray</code> instance.</p>
<p>In &quot;Classes&quot; in Chapter 3, we covered the <code>@@species</code> setting which all the built-in classes (like <code>Array</code>) have defined, which is used by any prototype methods if they create a new instance. <code>slice(..)</code> is a great example:</p>
<pre class="language-"><code class="lang-js"><span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyCoolArray</span><span class="token punctuation">(</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

x<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span> <span class="token number">1</span> <span class="token punctuation">)</span> <span class="token keyword">instanceof</span> <span class="token class-name">MyCoolArray</span><span class="token punctuation">;</span>                <span class="token comment">// true</span>
</code></pre>
<p>Generally, that default behavior will probably be desired, but as we discussed in Chapter 3, you <em>can</em> override if you want:</p>
<pre class="language-"><code class="lang-js"><span class="token keyword">class</span> <span class="token class-name">MyCoolArray</span> <span class="token keyword">extends</span> <span class="token class-name">Array</span> <span class="token punctuation">{</span>
    <span class="token comment">// force `species` to be parent constructor</span>
    <span class="token keyword">static</span> <span class="token keyword">get</span> <span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>species<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> Array<span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyCoolArray</span><span class="token punctuation">(</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

x<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span> <span class="token number">1</span> <span class="token punctuation">)</span> <span class="token keyword">instanceof</span> <span class="token class-name">MyCoolArray</span><span class="token punctuation">;</span>                <span class="token comment">// false</span>
x<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span> <span class="token number">1</span> <span class="token punctuation">)</span> <span class="token keyword">instanceof</span> <span class="token class-name">Array</span><span class="token punctuation">;</span>                        <span class="token comment">// true</span>
</code></pre>
<p>It&apos;s important to note that the <code>@@species</code> setting is only used for the prototype methods, like <code>slice(..)</code>. It&apos;s not used by <code>of(..)</code> and <code>from(..)</code>; they both just use the <code>this</code> binding (whatever constructor is used to make the reference). Consider:</p>
<pre class="language-"><code class="lang-js"><span class="token keyword">class</span> <span class="token class-name">MyCoolArray</span> <span class="token keyword">extends</span> <span class="token class-name">Array</span> <span class="token punctuation">{</span>
    <span class="token comment">// force `species` to be parent constructor</span>
    <span class="token keyword">static</span> <span class="token keyword">get</span> <span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>species<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> Array<span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyCoolArray</span><span class="token punctuation">(</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

MyCoolArray<span class="token punctuation">.</span><span class="token keyword">from</span><span class="token punctuation">(</span> x <span class="token punctuation">)</span> <span class="token keyword">instanceof</span> <span class="token class-name">MyCoolArray</span><span class="token punctuation">;</span>        <span class="token comment">// true</span>
MyCoolArray<span class="token punctuation">.</span><span class="token keyword">of</span><span class="token punctuation">(</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token keyword">instanceof</span> <span class="token class-name">MyCoolArray</span><span class="token punctuation">;</span>    <span class="token comment">// true</span>
</code></pre>
<h3 id="copywithin-prototype-method"><a name="copywithin-prototype-method" class="anchor-navigation-ex-anchor" href="#copywithin-prototype-method"><i class="fa fa-link" aria-hidden="true"></i></a>2.1.4. copyWithin(..) Prototype Method</h3>
<p><code>Array#copyWithin(..)</code> is a new mutator method available to all arrays (including Typed Arrays; see Chapter 5). <code>copyWithin(..)</code> copies a portion of an array to another location in the same array, overwriting whatever was there before.</p>
<p>The arguments are <em>target</em> (the index to copy to), <em>start</em> (the inclusive index to start the copying from), and optionally <em>end</em> (the exclusive index to stop copying). If any of the arguments are negative, they&apos;re taken to be relative from the end of the array.</p>
<p>Consider:</p>
<pre class="language-"><code class="lang-js"><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">copyWithin</span><span class="token punctuation">(</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">0</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">// [1,2,3,1,2]</span>

<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">copyWithin</span><span class="token punctuation">(</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// [1,2,3,1,5]</span>

<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">copyWithin</span><span class="token punctuation">(</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">2</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// [4,5,3,4,5]</span>

<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">copyWithin</span><span class="token punctuation">(</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// [4,2,3,4,5]</span>
</code></pre>
<p>The <code>copyWithin(..)</code> method does not extend the array&apos;s length, as the first example in the previous snippet shows. Copying simply stops when the end of the array is reached.</p>
<p>Contrary to what you might think, the copying doesn&apos;t always go in left-to-right (ascending index) order. It&apos;s possible this would result in repeatedly copying an already copied value if the from and target ranges overlap, which is presumably not desired behavior.</p>
<p>So internally, the algorithm avoids this case by copying in reverse order to avoid that gotcha. Consider:</p>
<pre class="language-"><code class="lang-js"><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">copyWithin</span><span class="token punctuation">(</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// ???</span>
</code></pre>
<p>If the algorithm was strictly moving left to right, then the <code>2</code> should be copied to overwrite the <code>3</code>, then <em>that</em> copied <code>2</code> should be copied to overwrite <code>4</code>, then <em>that</em> copied <code>2</code> should be copied to overwrite <code>5</code>, and you&apos;d end up with <code>[1,2,2,2,2]</code>.</p>
<p>Instead, the copying algorithm reverses direction and copies <code>4</code> to overwrite <code>5</code>, then copies <code>3</code> to overwrite <code>4</code>, then copies <code>2</code> to overwrite <code>3</code>, and the final result is <code>[1,2,2,3,4]</code>. That&apos;s probably more &quot;correct&quot; in terms of expectation, but it can be confusing if you&apos;re only thinking about the copying algorithm in a naive left-to-right fashion.</p>
<h3 id="fill-prototype-method"><a name="fill-prototype-method" class="anchor-navigation-ex-anchor" href="#fill-prototype-method"><i class="fa fa-link" aria-hidden="true"></i></a>2.1.5. fill(..) Prototype Method</h3>
<p>Filling an existing array entirely (or partially) with a specified value is natively supported as of ES6 with the <code>Array#fill(..)</code> method:</p>
<pre class="language-"><code class="lang-js"><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token function">Array</span><span class="token punctuation">(</span> <span class="token number">4</span> <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span> undefined <span class="token punctuation">)</span><span class="token punctuation">;</span>
a<span class="token punctuation">;</span>
<span class="token comment">// [undefined,undefined,undefined,undefined]</span>
</code></pre>
<p><code>fill(..)</code> optionally takes <em>start</em> and <em>end</em> parameters, which indicate a subset portion of the array to fill, such as:</p>
<pre class="language-"><code class="lang-js"><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">[</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">null</span> <span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span> <span class="token number">42</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

a<span class="token punctuation">;</span>                                    <span class="token comment">// [null,42,42,null]</span>
</code></pre>
<h3 id="find-prototype-method"><a name="find-prototype-method" class="anchor-navigation-ex-anchor" href="#find-prototype-method"><i class="fa fa-link" aria-hidden="true"></i></a>2.1.6. find(..) Prototype Method</h3>
<p>The most common way to search for a value in an array has generally been the <code>indexOf(..)</code> method, which returns the index the value is found at or <code>-1</code> if not found:</p>
<pre class="language-"><code class="lang-js"><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span> <span class="token number">3</span> <span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token comment">// true</span>
<span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span> <span class="token number">7</span> <span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token comment">// false</span>

<span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span> <span class="token string">&quot;2&quot;</span> <span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">// false</span>
</code></pre>
<p>The <code>indexOf(..)</code> comparison requires a strict <code>===</code> match, so a search for <code>&quot;2&quot;</code> fails to find a value of <code>2</code>, and vice versa. There&apos;s no way to override the matching algorithm for <code>indexOf(..)</code>. It&apos;s also unfortunate/ungraceful to have to make the manual comparison to the <code>-1</code> value.</p>
<p><strong>Tip:</strong> See the <em>Types &amp; Grammar</em> title of this series for an interesting (and controversially confusing) technique to work around the <code>-1</code> ugliness with the <code>~</code> operator.</p>
<p>Since ES5, the most common workaround to have control over the matching logic has been the <code>some(..)</code> method. It works by calling a function callback for each element, until one of those calls returns a <code>true</code>/truthy value, and then it stops. Because you get to define the callback function, you have full control over how a match is made:</p>
<pre class="language-"><code class="lang-js"><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

a<span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span> <span class="token keyword">function</span> <span class="token function">matcher</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> v <span class="token operator">==</span> <span class="token string">&quot;2&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>                                <span class="token comment">// true</span>

a<span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span> <span class="token keyword">function</span> <span class="token function">matcher</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> v <span class="token operator">==</span> <span class="token number">7</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>                                <span class="token comment">// false</span>
</code></pre>
<p>But the downside to this approach is that you only get the <code>true</code>/<code>false</code> indicating if a suitably matched value was found, but not what the actual matched value was.</p>
<p>ES6&apos;s <code>find(..)</code> addresses this. It works basically the same as <code>some(..)</code>, except that once the callback returns a <code>true</code>/truthy value, the actual array value is returned:</p>
<pre class="language-"><code class="lang-js"><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

a<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span> <span class="token keyword">function</span> <span class="token function">matcher</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> v <span class="token operator">==</span> <span class="token string">&quot;2&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>                                <span class="token comment">// 2</span>

a<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span> <span class="token keyword">function</span> <span class="token function">matcher</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> v <span class="token operator">==</span> <span class="token number">7</span><span class="token punctuation">;</span>                    <span class="token comment">// undefined</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>Using a custom <code>matcher(..)</code> function also lets you match against complex values like objects:</p>
<pre class="language-"><code class="lang-js"><span class="token keyword">var</span> points <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span> x<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">20</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> x<span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">30</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> x<span class="token punctuation">:</span> <span class="token number">30</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">40</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> x<span class="token punctuation">:</span> <span class="token number">40</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">50</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> x<span class="token punctuation">:</span> <span class="token number">50</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">60</span> <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

points<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span> <span class="token keyword">function</span> <span class="token function">matcher</span><span class="token punctuation">(</span>point<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
        point<span class="token punctuation">.</span>x <span class="token operator">%</span> <span class="token number">3</span> <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span>
        point<span class="token punctuation">.</span>y <span class="token operator">%</span> <span class="token number">4</span> <span class="token operator">==</span> <span class="token number">0</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>                                <span class="token comment">// { x: 30, y: 40 }</span>
</code></pre>
<p><strong>Note:</strong> As with other array methods that take callbacks, <code>find(..)</code> takes an optional second argument that if set will specify the <code>this</code> binding for the callback passed as the first argument. Otherwise, <code>this</code> will be <code>undefined</code>.</p>
<h3 id="findindex-prototype-method"><a name="findindex-prototype-method" class="anchor-navigation-ex-anchor" href="#findindex-prototype-method"><i class="fa fa-link" aria-hidden="true"></i></a>2.1.7. findIndex(..) Prototype Method</h3>
<p>While the previous section illustrates how <code>some(..)</code> yields a boolean result for a search of an array, and <code>find(..)</code> yields the matched value itself from the array search, there&apos;s also a need for finding the positional index of the matched value.</p>
<p><code>indexOf(..)</code> does that, but there&apos;s no control over its matching logic; it always uses <code>===</code> strict equality. So ES6&apos;s <code>findIndex(..)</code> is the answer:</p>
<pre class="language-"><code class="lang-js"><span class="token keyword">var</span> points <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span> x<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">20</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> x<span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">30</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> x<span class="token punctuation">:</span> <span class="token number">30</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">40</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> x<span class="token punctuation">:</span> <span class="token number">40</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">50</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> x<span class="token punctuation">:</span> <span class="token number">50</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">60</span> <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

points<span class="token punctuation">.</span><span class="token function">findIndex</span><span class="token punctuation">(</span> <span class="token keyword">function</span> <span class="token function">matcher</span><span class="token punctuation">(</span>point<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
        point<span class="token punctuation">.</span>x <span class="token operator">%</span> <span class="token number">3</span> <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span>
        point<span class="token punctuation">.</span>y <span class="token operator">%</span> <span class="token number">4</span> <span class="token operator">==</span> <span class="token number">0</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>                                <span class="token comment">// 2</span>

points<span class="token punctuation">.</span><span class="token function">findIndex</span><span class="token punctuation">(</span> <span class="token keyword">function</span> <span class="token function">matcher</span><span class="token punctuation">(</span>point<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
        point<span class="token punctuation">.</span>x <span class="token operator">%</span> <span class="token number">6</span> <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span>
        point<span class="token punctuation">.</span>y <span class="token operator">%</span> <span class="token number">7</span> <span class="token operator">==</span> <span class="token number">0</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>                                <span class="token comment">// -1</span>
</code></pre>
<p>Don&apos;t use <code>findIndex(..) != -1</code> (the way it&apos;s always been done with <code>indexOf(..)</code>) to get a boolean from the search, because <code>some(..)</code> already yields the <code>true</code>/<code>false</code> you want. And don&apos;t do <code>a[ a.findIndex(..) ]</code> to get the matched value, because that&apos;s what <code>find(..)</code> accomplishes. And finally, use <code>indexOf(..)</code> if you need the index of a strict match, or <code>findIndex(..)</code> if you need the index of a more customized match.</p>
<p><strong>Note:</strong> As with other array methods that take callbacks, <code>findIndex(..)</code> takes an optional second argument that if set will specify the <code>this</code> binding for the callback passed as the first argument. Otherwise, <code>this</code> will be <code>undefined</code>.</p>
<h3 id="entries-values-keys-prototype-methods"><a name="entries-values-keys-prototype-methods" class="anchor-navigation-ex-anchor" href="#entries-values-keys-prototype-methods"><i class="fa fa-link" aria-hidden="true"></i></a>2.1.8. entries(), values(), keys() Prototype Methods</h3>
<p>In Chapter 3, we illustrated how data structures can provide a patterned item-by-item enumeration of their values, via an iterator. We then expounded on this approach in Chapter 5, as we explored how the new ES6 collections (Map, Set, etc.) provide several methods for producing different kinds of iterations.</p>
<p>Because it&apos;s not new to ES6, <code>Array</code> might not be thought of traditionally as a &quot;collection,&quot; but it is one in the sense that it provides these same iterator methods: <code>entries()</code>, <code>values()</code>, and <code>keys()</code>. Consider:</p>
<pre class="language-"><code class="lang-js"><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token punctuation">[</span><span class="token operator">...</span>a<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>                    <span class="token comment">// [1,2,3]</span>
<span class="token punctuation">[</span><span class="token operator">...</span>a<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>                        <span class="token comment">// [0,1,2]</span>
<span class="token punctuation">[</span><span class="token operator">...</span>a<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>                    <span class="token comment">// [ [0,1], [1,2], [2,3] ]</span>

<span class="token punctuation">[</span><span class="token operator">...</span>a<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token comment">// [1,2,3]</span>
</code></pre>
<p>Just like with <code>Set</code>, the default <code>Array</code> iterator is the same as what <code>values()</code> returns.</p>
<p>In &quot;Avoiding Empty Slots&quot; earlier in this chapter, we illustrated how <code>Array.from(..)</code> treats empty slots in an array as just being present slots with <code>undefined</code> in them. That&apos;s actually because under the covers, the array iterators behave that way:</p>
<pre class="language-"><code class="lang-js"><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
a<span class="token punctuation">.</span>length <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
a<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>

<span class="token punctuation">[</span><span class="token operator">...</span>a<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token comment">// [undefined,2,undefined]</span>
<span class="token punctuation">[</span><span class="token operator">...</span>a<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token comment">// [0,1,2]</span>
<span class="token punctuation">[</span><span class="token operator">...</span>a<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token comment">// [ [0,undefined], [1,2], [2,undefined] ]</span>
</code></pre>
<h2 id="object"><a name="object" class="anchor-navigation-ex-anchor" href="#object"><i class="fa fa-link" aria-hidden="true"></i></a>2.2. Object</h2>
<p>A few additional static helpers have been added to <code>Object</code>. Traditionally, functions of this sort have been seen as focused on the behaviors/capabilities of object values.</p>
<p>However, starting with ES6, <code>Object</code> static functions will also be for general-purpose global APIs of any sort that don&apos;t already belong more naturally in some other location (i.e., <code>Array.from(..)</code>).</p>
<h3 id="objectis-static-function"><a name="objectis-static-function" class="anchor-navigation-ex-anchor" href="#objectis-static-function"><i class="fa fa-link" aria-hidden="true"></i></a>2.2.1. Object.is(..) Static Function</h3>
<p>The <code>Object.is(..)</code> static function makes value comparisons in an even more strict fashion than the <code>===</code> comparison.</p>
<p><code>Object.is(..)</code> invokes the underlying <code>SameValue</code> algorithm (ES6 spec, section 7.2.9). The <code>SameValue</code> algorithm is basically the same as the <code>===</code> Strict Equality Comparison Algorithm (ES6 spec, section 7.2.13), with two important exceptions.</p>
<p>Consider:</p>
<pre class="language-"><code class="lang-js"><span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token number">NaN</span><span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> z <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">0</span><span class="token punctuation">;</span>

x <span class="token operator">===</span> x<span class="token punctuation">;</span>                            <span class="token comment">// false</span>
y <span class="token operator">===</span> z<span class="token punctuation">;</span>                            <span class="token comment">// true</span>

Object<span class="token punctuation">.</span><span class="token function">is</span><span class="token punctuation">(</span> x<span class="token punctuation">,</span> x <span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token comment">// true</span>
Object<span class="token punctuation">.</span><span class="token function">is</span><span class="token punctuation">(</span> y<span class="token punctuation">,</span> z <span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token comment">// false</span>
</code></pre>
<p>You should continue to use <code>===</code> for strict equality comparisons; <code>Object.is(..)</code> shouldn&apos;t be thought of as a replacement for the operator. However, in cases where you&apos;re trying to strictly identify a <code>NaN</code> or <code>-0</code> value, <code>Object.is(..)</code> is now the preferred option.</p>
<p><strong>Note:</strong> ES6 also adds a <code>Number.isNaN(..)</code> utility (discussed later in this chapter) which may be a slightly more convenient test; you may prefer <code>Number.isNaN(x)</code> over <code>Object.is(x,NaN)</code>. You <em>can</em> accurately test for <code>-0</code> with a clumsy <code>x == 0 &amp;&amp; 1 / x === -Infinity</code>, but in this case <code>Object.is(x,-0)</code> is much better.</p>
<h3 id="objectgetownpropertysymbols-static-function"><a name="objectgetownpropertysymbols-static-function" class="anchor-navigation-ex-anchor" href="#objectgetownpropertysymbols-static-function"><i class="fa fa-link" aria-hidden="true"></i></a>2.2.2. Object.getOwnPropertySymbols(..) Static Function</h3>
<p>The &quot;Symbols&quot; section in Chapter 2 discusses the new Symbol primitive value type in ES6.</p>
<p>Symbols are likely going to be mostly used as special (meta) properties on objects. So the <code>Object.getOwnPropertySymbols(..)</code> utility was introduced, which retrieves only the symbol properties directly on an object:</p>
<pre class="language-"><code class="lang-js"><span class="token keyword">var</span> o <span class="token operator">=</span> <span class="token punctuation">{</span>
    foo<span class="token punctuation">:</span> <span class="token number">42</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span> <span class="token function">Symbol</span><span class="token punctuation">(</span> <span class="token string">&quot;bar&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token string">&quot;hello world&quot;</span><span class="token punctuation">,</span>
    baz<span class="token punctuation">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

Object<span class="token punctuation">.</span><span class="token function">getOwnPropertySymbols</span><span class="token punctuation">(</span> o <span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// [ Symbol(bar) ]</span>
</code></pre>
<h3 id="objectsetprototypeof-static-function"><a name="objectsetprototypeof-static-function" class="anchor-navigation-ex-anchor" href="#objectsetprototypeof-static-function"><i class="fa fa-link" aria-hidden="true"></i></a>2.2.3. Object.setPrototypeOf(..) Static Function</h3>
<p>Also in Chapter 2, we mentioned the <code>Object.setPrototypeOf(..)</code> utility, which (unsurprisingly) sets the <code>[[Prototype]]</code> of an object for the purposes of <em>behavior delegation</em> (see the <em>this &amp; Object Prototypes</em> title of this series). Consider:</p>
<pre class="language-"><code class="lang-js"><span class="token keyword">var</span> o1 <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token string">&quot;foo&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> o2 <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">// .. o2&apos;s definition ..</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

Object<span class="token punctuation">.</span><span class="token function">setPrototypeOf</span><span class="token punctuation">(</span> o2<span class="token punctuation">,</span> o1 <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// delegates to `o1.foo()`</span>
o2<span class="token punctuation">.</span><span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                            <span class="token comment">// foo</span>
</code></pre>
<p>Alternatively:</p>
<pre class="language-"><code class="lang-js"><span class="token keyword">var</span> o1 <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token string">&quot;foo&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> o2 <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">setPrototypeOf</span><span class="token punctuation">(</span> <span class="token punctuation">{</span>
    <span class="token comment">// .. o2&apos;s definition ..</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> o1 <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// delegates to `o1.foo()`</span>
o2<span class="token punctuation">.</span><span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                            <span class="token comment">// foo</span>
</code></pre>
<p>In both previous snippets, the relationship between <code>o2</code> and <code>o1</code> appears at the end of the <code>o2</code> definition. More commonly, the relationship between an <code>o2</code> and <code>o1</code> is specified at the top of the <code>o2</code> definition, as it is with classes, and also with <code>__proto__</code> in object literals (see &quot;Setting <code>[[Prototype]]</code>&quot; in Chapter 2).</p>
<p><strong>Warning:</strong> Setting a <code>[[Prototype]]</code> right after object creation is reasonable, as shown. But changing it much later is generally not a good idea and will usually lead to more confusion than clarity.</p>
<h3 id="objectassign-static-function"><a name="objectassign-static-function" class="anchor-navigation-ex-anchor" href="#objectassign-static-function"><i class="fa fa-link" aria-hidden="true"></i></a>2.2.4. Object.assign(..) Static Function</h3>
<p>Many JavaScript libraries/frameworks provide utilities for copying/mixing one object&apos;s properties into another (e.g., jQuery&apos;s <code>extend(..)</code>). There are various nuanced differences between these different utilities, such as whether a property with value <code>undefined</code> is ignored or not.</p>
<p>ES6 adds <code>Object.assign(..)</code>, which is a simplified version of these algorithms. The first argument is the <em>target</em>, and any other arguments passed are the <em>sources</em>, which will be processed in listed order. For each source, its enumerable and own (e.g., not &quot;inherited&quot;) keys, including symbols, are copied as if by plain <code>=</code> assignment. <code>Object.assign(..)</code> returns the target object.</p>
<p>Consider this object setup:</p>
<pre class="language-"><code class="lang-js"><span class="token keyword">var</span> target <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    o1 <span class="token operator">=</span> <span class="token punctuation">{</span> a<span class="token punctuation">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> o2 <span class="token operator">=</span> <span class="token punctuation">{</span> b<span class="token punctuation">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    o3 <span class="token operator">=</span> <span class="token punctuation">{</span> c<span class="token punctuation">:</span> <span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> o4 <span class="token operator">=</span> <span class="token punctuation">{</span> d<span class="token punctuation">:</span> <span class="token number">4</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// setup read-only property</span>
Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span> o3<span class="token punctuation">,</span> <span class="token string">&quot;e&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    value<span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
    enumerable<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    writable<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    configurable<span class="token punctuation">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// setup non-enumerable property</span>
Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span> o3<span class="token punctuation">,</span> <span class="token string">&quot;f&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    value<span class="token punctuation">:</span> <span class="token number">6</span><span class="token punctuation">,</span>
    enumerable<span class="token punctuation">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

o3<span class="token punctuation">[</span> <span class="token function">Symbol</span><span class="token punctuation">(</span> <span class="token string">&quot;g&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span>

<span class="token comment">// setup non-enumerable symbol</span>
Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span> o3<span class="token punctuation">,</span> <span class="token function">Symbol</span><span class="token punctuation">(</span> <span class="token string">&quot;h&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    value<span class="token punctuation">:</span> <span class="token number">8</span><span class="token punctuation">,</span>
    enumerable<span class="token punctuation">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

Object<span class="token punctuation">.</span><span class="token function">setPrototypeOf</span><span class="token punctuation">(</span> o3<span class="token punctuation">,</span> o4 <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>Only the properties <code>a</code>, <code>b</code>, <code>c</code>, <code>e</code>, and <code>Symbol(&quot;g&quot;)</code> will be copied to <code>target</code>:</p>
<pre class="language-"><code class="lang-js">Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span> target<span class="token punctuation">,</span> o1<span class="token punctuation">,</span> o2<span class="token punctuation">,</span> o3 <span class="token punctuation">)</span><span class="token punctuation">;</span>

target<span class="token punctuation">.</span>a<span class="token punctuation">;</span>                            <span class="token comment">// 1</span>
target<span class="token punctuation">.</span>b<span class="token punctuation">;</span>                            <span class="token comment">// 2</span>
target<span class="token punctuation">.</span>c<span class="token punctuation">;</span>                            <span class="token comment">// 3</span>

Object<span class="token punctuation">.</span><span class="token function">getOwnPropertyDescriptor</span><span class="token punctuation">(</span> target<span class="token punctuation">,</span> <span class="token string">&quot;e&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// { value: 5, writable: true, enumerable: true,</span>
<span class="token comment">//   configurable: true }</span>

Object<span class="token punctuation">.</span><span class="token function">getOwnPropertySymbols</span><span class="token punctuation">(</span> target <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// [Symbol(&quot;g&quot;)]</span>
</code></pre>
<p>The <code>d</code>, <code>f</code>, and <code>Symbol(&quot;h&quot;)</code> properties are omitted from copying; non-enumerable properties and non-owned properties are all excluded from the assignment. Also, <code>e</code> is copied as a normal property assignment, not duplicated as a read-only property.</p>
<p>In an earlier section, we showed using <code>setPrototypeOf(..)</code> to set up a <code>[[Prototype]]</code> relationship between an <code>o2</code> and <code>o1</code> object. There&apos;s another form that leverages <code>Object.assign(..)</code>:</p>
<pre class="language-"><code class="lang-js"><span class="token keyword">var</span> o1 <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token string">&quot;foo&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> o2 <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>
    Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span> o1 <span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// .. o2&apos;s definition ..</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// delegates to `o1.foo()`</span>
o2<span class="token punctuation">.</span><span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                            <span class="token comment">// foo</span>
</code></pre>
<p><strong>Note:</strong> <code>Object.create(..)</code> is the ES5 standard utility that creates an empty object that is <code>[[Prototype]]</code>-linked. See the <em>this &amp; Object Prototypes</em> title of this series for more information.</p>
<h2 id="math"><a name="math" class="anchor-navigation-ex-anchor" href="#math"><i class="fa fa-link" aria-hidden="true"></i></a>2.3. Math</h2>
<p>ES6 adds several new mathematic utilities that fill in holes or aid with common operations. All of these can be manually calculated, but most of them are now defined natively so that in some cases the JS engine can either more optimally perform the calculations, or perform them with better decimal precision than their manual counterparts.</p>
<p>It&apos;s likely that asm.js/transpiled JS code (see the <em>Async &amp; Performance</em> title of this series) is the more likely consumer of many of these utilities rather than direct developers.</p>
<p>Trigonometry:</p>
<ul>
<li><code>cosh(..)</code> - Hyperbolic cosine</li>
<li><code>acosh(..)</code> - Hyperbolic arccosine</li>
<li><code>sinh(..)</code> - Hyperbolic sine</li>
<li><code>asinh(..)</code> - Hyperbolic arcsine</li>
<li><code>tanh(..)</code> - Hyperbolic tangent</li>
<li><code>atanh(..)</code> - Hyperbolic arctangent</li>
<li><code>hypot(..)</code> - The squareroot of the sum of the squares (i.e., the generalized Pythagorean theorem)</li>
</ul>
<p>Arithmetic:</p>
<ul>
<li><code>cbrt(..)</code> - Cube root</li>
<li><code>clz32(..)</code> - Count leading zeros in 32-bit binary representation</li>
<li><code>expm1(..)</code> - The same as <code>exp(x) - 1</code></li>
<li><code>log2(..)</code> - Binary logarithm (log base 2)</li>
<li><code>log10(..)</code> - Log base 10</li>
<li><code>log1p(..)</code> - The same as <code>log(x + 1)</code></li>
<li><code>imul(..)</code> - 32-bit integer multiplication of two numbers</li>
</ul>
<p>Meta:</p>
<ul>
<li><code>sign(..)</code> - Returns the sign of the number</li>
<li><code>trunc(..)</code> - Returns only the integer part of a number</li>
<li><code>fround(..)</code> - Rounds to nearest 32-bit (single precision) floating-point value</li>
</ul>
<h2 id="number"><a name="number" class="anchor-navigation-ex-anchor" href="#number"><i class="fa fa-link" aria-hidden="true"></i></a>2.4. Number</h2>
<p>Importantly, for your program to properly work, it must accurately handle numbers. ES6 adds some additional properties and functions to assist with common numeric operations.</p>
<p>Two additions to <code>Number</code> are just references to the preexisting globals: <code>Number.parseInt(..)</code> and <code>Number.parseFloat(..)</code>.</p>
<h3 id="static-properties"><a name="static-properties" class="anchor-navigation-ex-anchor" href="#static-properties"><i class="fa fa-link" aria-hidden="true"></i></a>2.4.1. Static Properties</h3>
<p>ES6 adds some helpful numeric constants as static properties:</p>
<ul>
<li><code>Number.EPSILON</code> - The minimum value between any two numbers: <code>2^-52</code> (see Chapter 2 of the <em>Types &amp; Grammar</em> title of this series regarding using this value as a tolerance for imprecision in floating-point arithmetic)</li>
<li><code>Number.MAX_SAFE_INTEGER</code> - The highest integer that can &quot;safely&quot; be represented unambiguously in a JS number value: <code>2^53 - 1</code></li>
<li><code>Number.MIN_SAFE_INTEGER</code> - The lowest integer that can &quot;safely&quot; be represented unambiguously in a JS number value: <code>-(2^53 - 1)</code> or <code>(-2)^53 + 1</code>.</li>
</ul>
<p><strong>Note:</strong> See Chapter 2 of the <em>Types &amp; Grammar</em> title of this series for more information about &quot;safe&quot; integers.</p>
<h3 id="numberisnan-static-function"><a name="numberisnan-static-function" class="anchor-navigation-ex-anchor" href="#numberisnan-static-function"><i class="fa fa-link" aria-hidden="true"></i></a>2.4.2. Number.isNaN(..) Static Function</h3>
<p>The standard global <code>isNaN(..)</code> utility has been broken since its inception, in that it returns <code>true</code> for things that are not numbers, not just for the actual <code>NaN</code> value, because it coerces the argument to a number type (which can falsely result in a NaN). ES6 adds a fixed utility <code>Number.isNaN(..)</code> that works as it should:</p>
<pre class="language-"><code class="lang-js"><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">NaN</span><span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token string">&quot;NaN&quot;</span><span class="token punctuation">,</span> c <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span>

<span class="token function">isNaN</span><span class="token punctuation">(</span> a <span class="token punctuation">)</span><span class="token punctuation">;</span>                            <span class="token comment">// true</span>
<span class="token function">isNaN</span><span class="token punctuation">(</span> b <span class="token punctuation">)</span><span class="token punctuation">;</span>                            <span class="token comment">// true -- oops!</span>
<span class="token function">isNaN</span><span class="token punctuation">(</span> c <span class="token punctuation">)</span><span class="token punctuation">;</span>                            <span class="token comment">// false</span>

Number<span class="token punctuation">.</span><span class="token function">isNaN</span><span class="token punctuation">(</span> a <span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token comment">// true</span>
Number<span class="token punctuation">.</span><span class="token function">isNaN</span><span class="token punctuation">(</span> b <span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token comment">// false -- fixed!</span>
Number<span class="token punctuation">.</span><span class="token function">isNaN</span><span class="token punctuation">(</span> c <span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token comment">// false</span>
</code></pre>
<h3 id="numberisfinite-static-function"><a name="numberisfinite-static-function" class="anchor-navigation-ex-anchor" href="#numberisfinite-static-function"><i class="fa fa-link" aria-hidden="true"></i></a>2.4.3. Number.isFinite(..) Static Function</h3>
<p>There&apos;s a temptation to look at a function name like <code>isFinite(..)</code> and assume it&apos;s simply &quot;not infinite&quot;. That&apos;s not quite correct, though. There&apos;s more nuance to this new ES6 utility. Consider:</p>
<pre class="language-"><code class="lang-js"><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">NaN</span><span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token number">Infinity</span><span class="token punctuation">,</span> c <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span>

Number<span class="token punctuation">.</span><span class="token function">isFinite</span><span class="token punctuation">(</span> a <span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token comment">// false</span>
Number<span class="token punctuation">.</span><span class="token function">isFinite</span><span class="token punctuation">(</span> b <span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token comment">// false</span>

Number<span class="token punctuation">.</span><span class="token function">isFinite</span><span class="token punctuation">(</span> c <span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token comment">// true</span>
</code></pre>
<p>The standard global <code>isFinite(..)</code> coerces its argument, but <code>Number.isFinite(..)</code> omits the coercive behavior:</p>
<pre class="language-"><code class="lang-js"><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token string">&quot;42&quot;</span><span class="token punctuation">;</span>

<span class="token function">isFinite</span><span class="token punctuation">(</span> a <span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token comment">// true</span>
Number<span class="token punctuation">.</span><span class="token function">isFinite</span><span class="token punctuation">(</span> a <span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token comment">// false</span>
</code></pre>
<p>You may still prefer the coercion, in which case using the global <code>isFinite(..)</code> is a valid choice. Alternatively, and perhaps more sensibly, you can use <code>Number.isFinite(+x)</code>, which explicitly coerces <code>x</code> to a number before passing it in (see Chapter 4 of the <em>Types &amp; Grammar</em> title of this series).</p>
<h3 id="integer-related-static-functions"><a name="integer-related-static-functions" class="anchor-navigation-ex-anchor" href="#integer-related-static-functions"><i class="fa fa-link" aria-hidden="true"></i></a>2.4.4. Integer-Related Static Functions</h3>
<p>JavaScript number values are always floating point (IEEE-754). So the notion of determining if a number is an &quot;integer&quot; is not about checking its type, because JS makes no such distinction.</p>
<p>Instead, you need to check if there&apos;s any non-zero decimal portion of the value. The easiest way to do that has commonly been:</p>
<pre class="language-"><code class="lang-js">x <span class="token operator">===</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span> x <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>ES6 adds a <code>Number.isInteger(..)</code> helper utility that potentially can determine this quality slightly more efficiently:</p>
<pre class="language-"><code class="lang-js">Number<span class="token punctuation">.</span><span class="token function">isInteger</span><span class="token punctuation">(</span> <span class="token number">4</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token comment">// true</span>
Number<span class="token punctuation">.</span><span class="token function">isInteger</span><span class="token punctuation">(</span> <span class="token number">4.2</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">// false</span>
</code></pre>
<p><strong>Note:</strong> In JavaScript, there&apos;s no difference between <code>4</code>, <code>4.</code>, <code>4.0</code>, or <code>4.0000</code>. All of these would be considered an &quot;integer&quot;, and would thus yield <code>true</code> from <code>Number.isInteger(..)</code>.</p>
<p>In addition, <code>Number.isInteger(..)</code> filters out some clearly not-integer values that <code>x === Math.floor(x)</code> could potentially mix up:</p>
<pre class="language-"><code class="lang-js">Number<span class="token punctuation">.</span><span class="token function">isInteger</span><span class="token punctuation">(</span> <span class="token number">NaN</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">// false</span>
Number<span class="token punctuation">.</span><span class="token function">isInteger</span><span class="token punctuation">(</span> <span class="token number">Infinity</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// false</span>
</code></pre>
<p>Working with &quot;integers&quot; is sometimes an important bit of information, as it can simplify certain kinds of algorithms. JS code by itself will not run faster just from filtering for only integers, but there are optimization techniques the engine can take (e.g., asm.js) when only integers are being used.</p>
<p>Because of <code>Number.isInteger(..)</code>&apos;s handling of <code>NaN</code> and <code>Infinity</code> values, defining a <code>isFloat(..)</code> utility would not be just as simple as <code>!Number.isInteger(..)</code>. You&apos;d need to do something like:</p>
<pre class="language-"><code class="lang-js"><span class="token keyword">function</span> <span class="token function">isFloat</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> Number<span class="token punctuation">.</span><span class="token function">isFinite</span><span class="token punctuation">(</span> x <span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>Number<span class="token punctuation">.</span><span class="token function">isInteger</span><span class="token punctuation">(</span> x <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">isFloat</span><span class="token punctuation">(</span> <span class="token number">4.2</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token comment">// true</span>
<span class="token function">isFloat</span><span class="token punctuation">(</span> <span class="token number">4</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token comment">// false</span>

<span class="token function">isFloat</span><span class="token punctuation">(</span> <span class="token number">NaN</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token comment">// false</span>
<span class="token function">isFloat</span><span class="token punctuation">(</span> <span class="token number">Infinity</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token comment">// false</span>
</code></pre>
<p><strong>Note:</strong> It may seem strange, but Infinity should neither be considered an integer nor a float.</p>
<p>ES6 also defines a <code>Number.isSafeInteger(..)</code> utility, which checks to make sure the value is both an integer and within the range of <code>Number.MIN_SAFE_INTEGER</code>-<code>Number.MAX_SAFE_INTEGER</code> (inclusive).</p>
<pre class="language-"><code class="lang-js"><span class="token keyword">var</span> x <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">53</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
    y <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span> <span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">53</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

Number<span class="token punctuation">.</span><span class="token function">isSafeInteger</span><span class="token punctuation">(</span> x <span class="token operator">-</span> <span class="token number">1</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// true</span>
Number<span class="token punctuation">.</span><span class="token function">isSafeInteger</span><span class="token punctuation">(</span> y <span class="token operator">+</span> <span class="token number">1</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// true</span>

Number<span class="token punctuation">.</span><span class="token function">isSafeInteger</span><span class="token punctuation">(</span> x <span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">// false</span>
Number<span class="token punctuation">.</span><span class="token function">isSafeInteger</span><span class="token punctuation">(</span> y <span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">// false</span>
</code></pre>
<h2 id="string"><a name="string" class="anchor-navigation-ex-anchor" href="#string"><i class="fa fa-link" aria-hidden="true"></i></a>2.5. String</h2>
<p>Strings already have quite a few helpers prior to ES6, but even more have been added to the mix.</p>
<h3 id="unicode-functions"><a name="unicode-functions" class="anchor-navigation-ex-anchor" href="#unicode-functions"><i class="fa fa-link" aria-hidden="true"></i></a>2.5.1. Unicode Functions</h3>
<p>&quot;Unicode-Aware String Operations&quot; in Chapter 2 discusses <code>String.fromCodePoint(..)</code>, <code>String#codePointAt(..)</code>, and <code>String#normalize(..)</code> in detail. They have been added to improve Unicode support in JS string values.</p>
<pre class="language-"><code class="lang-js">String<span class="token punctuation">.</span><span class="token function">fromCodePoint</span><span class="token punctuation">(</span> <span class="token number">0x1d49e</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">// &quot;&#x1D49E;&quot;</span>

<span class="token string">&quot;ab&#x1D49E;d&quot;</span><span class="token punctuation">.</span><span class="token function">codePointAt</span><span class="token punctuation">(</span> <span class="token number">2</span> <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span> <span class="token number">16</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// &quot;1d49e&quot;</span>
</code></pre>
<p>The <code>normalize(..)</code> string prototype method is used to perform Unicode normalizations that either combine characters with adjacent &quot;combining marks&quot; or decompose combined characters.</p>
<p>Generally, the normalization won&apos;t create a visible effect on the contents of the string, but will change the contents of the string, which can affect how things like the <code>length</code> property are reported, as well as how character access by position behave:</p>
<pre class="language-"><code class="lang-js"><span class="token keyword">var</span> s1 <span class="token operator">=</span> <span class="token string">&quot;e\u0301&quot;</span><span class="token punctuation">;</span>
s1<span class="token punctuation">.</span>length<span class="token punctuation">;</span>                            <span class="token comment">// 2</span>

<span class="token keyword">var</span> s2 <span class="token operator">=</span> s1<span class="token punctuation">.</span><span class="token function">normalize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
s2<span class="token punctuation">.</span>length<span class="token punctuation">;</span>                            <span class="token comment">// 1</span>
s2 <span class="token operator">===</span> <span class="token string">&quot;\xE9&quot;</span><span class="token punctuation">;</span>                        <span class="token comment">// true</span>
</code></pre>
<p><code>normalize(..)</code> takes an optional argument that specifies the normalization form to use. This argument must be one of the following four values: <code>&quot;NFC&quot;</code> (default), <code>&quot;NFD&quot;</code>, <code>&quot;NFKC&quot;</code>, or <code>&quot;NFKD&quot;</code>.</p>
<p><strong>Note:</strong> Normalization forms and their effects on strings is well beyond the scope of what we&apos;ll discuss here. See &quot;Unicode Normalization Forms&quot; (<a href="http://www.unicode.org/reports/tr15/" target="_blank">http://www.unicode.org/reports/tr15/</a>) for more information.</p>
<h3 id="stringraw-static-function"><a name="stringraw-static-function" class="anchor-navigation-ex-anchor" href="#stringraw-static-function"><i class="fa fa-link" aria-hidden="true"></i></a>2.5.2. String.raw(..) Static Function</h3>
<p>The <code>String.raw(..)</code> utility is provided as a built-in tag function to use with template string literals (see Chapter 2) for obtaining the raw string value without any processing of escape sequences.</p>
<p>This function will almost never be called manually, but will be used with tagged template literals:</p>
<pre class="language-"><code class="lang-js"><span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">&quot;bc&quot;</span><span class="token punctuation">;</span>

String<span class="token punctuation">.</span>raw<span class="token template-string"><span class="token string">`\ta</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>str<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">d\xE9`</span></span><span class="token punctuation">;</span>
<span class="token comment">// &quot;\tabcd\xE9&quot;, not &quot;    abcd&#xE9;&quot;</span>
</code></pre>
<p>In the resultant string, <code>\</code> and <code>t</code> are separate raw characters, not the one escape sequence character <code>\t</code>. The same is true with the Unicode escape sequence.</p>
<h3 id="repeat-prototype-function"><a name="repeat-prototype-function" class="anchor-navigation-ex-anchor" href="#repeat-prototype-function"><i class="fa fa-link" aria-hidden="true"></i></a>2.5.3. repeat(..) Prototype Function</h3>
<p>In languages like Python and Ruby, you can repeat a string as:</p>
<pre class="language-"><code class="lang-js"><span class="token string">&quot;foo&quot;</span> <span class="token operator">*</span> <span class="token number">3</span><span class="token punctuation">;</span>                            <span class="token comment">// &quot;foofoofoo&quot;</span>
</code></pre>
<p>That doesn&apos;t work in JS, because <code>*</code> multiplication is only defined for numbers, and thus <code>&quot;foo&quot;</code> coerces to the <code>NaN</code> number.</p>
<p>However, ES6 defines a string prototype method <code>repeat(..)</code> to accomplish the task:</p>
<pre class="language-"><code class="lang-js"><span class="token string">&quot;foo&quot;</span><span class="token punctuation">.</span><span class="token function">repeat</span><span class="token punctuation">(</span> <span class="token number">3</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token comment">// &quot;foofoofoo&quot;</span>
</code></pre>
<h3 id="string-inspection-functions"><a name="string-inspection-functions" class="anchor-navigation-ex-anchor" href="#string-inspection-functions"><i class="fa fa-link" aria-hidden="true"></i></a>2.5.4. String Inspection Functions</h3>
<p>In addition to <code>String#indexOf(..)</code> and <code>String#lastIndexOf(..)</code> from prior to ES6, three new methods for searching/inspection have been added: <code>startsWith(..)</code>, <code>endsWith(..)</code>, and <code>includes(..)</code>.</p>
<pre class="language-"><code class="lang-js"><span class="token keyword">var</span> palindrome <span class="token operator">=</span> <span class="token string">&quot;step on no pets&quot;</span><span class="token punctuation">;</span>

palindrome<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span> <span class="token string">&quot;step on&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// true</span>
palindrome<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span> <span class="token string">&quot;on&quot;</span><span class="token punctuation">,</span> <span class="token number">5</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// true</span>

palindrome<span class="token punctuation">.</span><span class="token function">endsWith</span><span class="token punctuation">(</span> <span class="token string">&quot;no pets&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// true</span>
palindrome<span class="token punctuation">.</span><span class="token function">endsWith</span><span class="token punctuation">(</span> <span class="token string">&quot;no&quot;</span><span class="token punctuation">,</span> <span class="token number">10</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// true</span>

palindrome<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span> <span class="token string">&quot;on&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// true</span>
palindrome<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span> <span class="token string">&quot;on&quot;</span><span class="token punctuation">,</span> <span class="token number">6</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// false</span>
</code></pre>
<p>For all the string search/inspection methods, if you look for an empty string <code>&quot;&quot;</code>, it will either be found at the beginning or the end of the string.</p>
<p><strong>Warning:</strong> These methods will not by default accept a regular expression for the search string. See &quot;Regular Expression Symbols&quot; in Chapter 7 for information about disabling the <code>isRegExp</code> check that is performed on this first argument.</p>
<h2 id="review"><a name="review" class="anchor-navigation-ex-anchor" href="#review"><i class="fa fa-link" aria-hidden="true"></i></a>2.6. Review</h2>
<p>ES6 adds many extra API helpers on the various built-in native objects:</p>
<ul>
<li><code>Array</code> adds <code>of(..)</code> and <code>from(..)</code> static functions, as well as prototype functions like <code>copyWithin(..)</code> and <code>fill(..)</code>.</li>
<li><code>Object</code> adds static functions like <code>is(..)</code> and <code>assign(..)</code>.</li>
<li><code>Math</code> adds static functions like <code>acosh(..)</code> and <code>clz32(..)</code>.</li>
<li><code>Number</code> adds static properties like <code>Number.EPSILON</code>, as well as static functions like <code>Number.isFinite(..)</code>.</li>
<li><code>String</code> adds static functions like <code>String.fromCodePoint(..)</code> and <code>String.raw(..)</code>, as well as prototype functions like <code>repeat(..)</code> and <code>includes(..)</code>.</li>
</ul>
<p>Most of these additions can be polyfilled (see ES6 Shim), and were inspired by utilities in common JS libraries/frameworks.</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="ch5.html" class="navigation navigation-prev " aria-label="Previous page: Chapter 5: Collections">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="ch7.html" class="navigation navigation-next " aria-label="Next page: Chapter 7: Meta Programming">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Chapter 6: API Additions","level":"1.8.7","depth":2,"next":{"title":"Chapter 7: Meta Programming","level":"1.8.8","depth":2,"path":"ES6 & Beyond/ch7.md","ref":"ES6 & Beyond/ch7.md","articles":[]},"previous":{"title":"Chapter 5: Collections","level":"1.8.6","depth":2,"path":"ES6 & Beyond/ch5.md","ref":"ES6 & Beyond/ch5.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":["-lunr","-sharing","-livereload","-search","search-plus","anchor-navigation-ex","splitter","prism","theme-comscore","livereload"],"pluginsConfig":{"anchor-navigation-ex":{"associatedWithSummary":false,"float":{"floatIcon":"fa fa-navicon","level1Icon":"","level2Icon":"","level3Icon":"","showLevelIcon":false},"mode":"float","multipleH1":true,"pageTop":{"level1Icon":"","level2Icon":"","level3Icon":"","showLevelIcon":false},"printLog":false,"showGoTop":true,"showLevel":true},"prism":{"css":["prismjs/themes/prism-okaidia.css"]},"search-plus":{},"splitter":{},"highlight":{},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-comscore":{},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"ES6 & Beyond/ch6.md","mtime":"2018-09-23T00:16:07.282Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2018-09-23T02:41:01.827Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-search-plus/jquery.mark.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search-plus/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-splitter/splitter.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-theme-comscore/test.js"></script>
        
    

    </body>
</html>

