
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Appendix C: Lexical-this Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search-plus/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-anchor-navigation-ex/style/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-splitter/splitter.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-prism/prism-okaidia.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-theme-comscore/test.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="apD.html" />
    
    
    <link rel="prev" href="apB.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../preface.html">
            
                <a href="../preface.html">
            
                    
                    Preface
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../up & going/toc.html">
            
                <a href="../up & going/toc.html">
            
                    
                    Up & Going
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../up & going/foreword.html">
            
                <a href="../up & going/foreword.html">
            
                    
                    Foreword
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../up & going/ch1.html">
            
                <a href="../up & going/ch1.html">
            
                    
                    Chapter 1: Into Programming
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../up & going/ch2.html">
            
                <a href="../up & going/ch2.html">
            
                    
                    Chapter 2: Into JavaScript
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="../up & going/ch3.html">
            
                <a href="../up & going/ch3.html">
            
                    
                    Chapter 3: Into YDKJS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5" data-path="../up & going/apA.html">
            
                <a href="../up & going/apA.html">
            
                    
                    Appendix A: Thank You's!
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="toc.html">
            
                <a href="toc.html">
            
                    
                    Scope & Closures
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="ch1.html">
            
                <a href="ch1.html">
            
                    
                    Chapter 1: What is Scope?
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="ch2.html">
            
                <a href="ch2.html">
            
                    
                    Chapter 2: Lexical Scope
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="ch3.html">
            
                <a href="ch3.html">
            
                    
                    Chapter 3: Function vs. Block Scope
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="ch4.html">
            
                <a href="ch4.html">
            
                    
                    Chapter 4: Hoisting
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="ch5.html">
            
                <a href="ch5.html">
            
                    
                    Chapter 5: Scope Closures
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6" data-path="apA.html">
            
                <a href="apA.html">
            
                    
                    Appendix A: Dynamic Scope
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7" data-path="apB.html">
            
                <a href="apB.html">
            
                    
                    Appendix B: Polyfilling Block Scope
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.4.8" data-path="apC.html">
            
                <a href="apC.html">
            
                    
                    Appendix C: Lexical-this
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.9" data-path="apD.html">
            
                <a href="apD.html">
            
                    
                    Appendix D: Thank You's!
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../this & Object Prototypes/toc.html">
            
                <a href="../this & Object Prototypes/toc.html">
            
                    
                    this & Object Prototypes
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../this & Object Prototypes/foreword.html">
            
                <a href="../this & Object Prototypes/foreword.html">
            
                    
                    Foreword
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../this & Object Prototypes/ch1.html">
            
                <a href="../this & Object Prototypes/ch1.html">
            
                    
                    Chapter 1: this Or That?
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="../this & Object Prototypes/ch2.html">
            
                <a href="../this & Object Prototypes/ch2.html">
            
                    
                    Chapter 2: this All Makes Sense Now!
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4" data-path="../this & Object Prototypes/ch3.html">
            
                <a href="../this & Object Prototypes/ch3.html">
            
                    
                    Chapter 3: Objects
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5" data-path="../this & Object Prototypes/ch4.html">
            
                <a href="../this & Object Prototypes/ch4.html">
            
                    
                    Chapter 4: Mixing (Up) "Class" Objects
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.6" data-path="../this & Object Prototypes/ch5.html">
            
                <a href="../this & Object Prototypes/ch5.html">
            
                    
                    Chapter 5: Prototypes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7" data-path="../this & Object Prototypes/ch6.html">
            
                <a href="../this & Object Prototypes/ch6.html">
            
                    
                    Chapter 6: Behavior Delegation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.8" data-path="../this & Object Prototypes/apA.html">
            
                <a href="../this & Object Prototypes/apA.html">
            
                    
                    Appendix A: ES6 class
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.9" data-path="../this & Object Prototypes/apB.html">
            
                <a href="../this & Object Prototypes/apB.html">
            
                    
                    Appendix B: Thank You's!
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../Types & Grammar/toc.html">
            
                <a href="../Types & Grammar/toc.html">
            
                    
                    Types & Grammar
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../Types & Grammar/foreword.html">
            
                <a href="../Types & Grammar/foreword.html">
            
                    
                    Foreword
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="../Types & Grammar/ch1.html">
            
                <a href="../Types & Grammar/ch1.html">
            
                    
                    Chapter 1: Types
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="../Types & Grammar/ch2.html">
            
                <a href="../Types & Grammar/ch2.html">
            
                    
                    Chapter 2: Values
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4" data-path="../Types & Grammar/ch3.html">
            
                <a href="../Types & Grammar/ch3.html">
            
                    
                    Chapter 3: Natives
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.5" data-path="../Types & Grammar/ch4.html">
            
                <a href="../Types & Grammar/ch4.html">
            
                    
                    Chapter 4: Coercion
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.6" data-path="../Types & Grammar/ch5.html">
            
                <a href="../Types & Grammar/ch5.html">
            
                    
                    Chapter 5: Grammar
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.7" data-path="../Types & Grammar/apA.html">
            
                <a href="../Types & Grammar/apA.html">
            
                    
                    Appendix A: Mixed Environment JavaScript
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.8" data-path="../Types & Grammar/apB.html">
            
                <a href="../Types & Grammar/apB.html">
            
                    
                    Appendix B: Thank You's!
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../Async & Performance/toc.html">
            
                <a href="../Async & Performance/toc.html">
            
                    
                    Async & Performance
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="../Async & Performance/foreword.html">
            
                <a href="../Async & Performance/foreword.html">
            
                    
                    Foreword
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="../Async & Performance/ch1.html">
            
                <a href="../Async & Performance/ch1.html">
            
                    
                    Chapter 1: Asynchrony: Now & Later
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3" data-path="../Async & Performance/ch2.html">
            
                <a href="../Async & Performance/ch2.html">
            
                    
                    Chapter 2: Callbacks
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.4" data-path="../Async & Performance/ch3.html">
            
                <a href="../Async & Performance/ch3.html">
            
                    
                    Chapter 3: Promises
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.5" data-path="../Async & Performance/ch4.html">
            
                <a href="../Async & Performance/ch4.html">
            
                    
                    Chapter 4: Generators
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.6" data-path="../Async & Performance/ch5.html">
            
                <a href="../Async & Performance/ch5.html">
            
                    
                    Chapter 5: Program Performance
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.7" data-path="../Async & Performance/ch6.html">
            
                <a href="../Async & Performance/ch6.html">
            
                    
                    Chapter 6: Benchmarking & Tuning
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.8" data-path="../Async & Performance/apA.html">
            
                <a href="../Async & Performance/apA.html">
            
                    
                    Appendix A: Library: asynquence
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.9" data-path="../Async & Performance/apB.html">
            
                <a href="../Async & Performance/apB.html">
            
                    
                    Appendix B: Advanced Async Patterns
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.10" data-path="../Async & Performance/apC.html">
            
                <a href="../Async & Performance/apC.html">
            
                    
                    Appendix C: Thank You's!
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="../ES6 & Beyond/toc.html">
            
                <a href="../ES6 & Beyond/toc.html">
            
                    
                    ES6 & Beyond
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="../ES6 & Beyond/foreword.html">
            
                <a href="../ES6 & Beyond/foreword.html">
            
                    
                    Foreword
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="../ES6 & Beyond/ch1.html">
            
                <a href="../ES6 & Beyond/ch1.html">
            
                    
                    Chapter 1: ES? Now & Future
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3" data-path="../ES6 & Beyond/ch2.html">
            
                <a href="../ES6 & Beyond/ch2.html">
            
                    
                    Chapter 2: Syntax
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4" data-path="../ES6 & Beyond/ch3.html">
            
                <a href="../ES6 & Beyond/ch3.html">
            
                    
                    Chapter 3: Organization
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.5" data-path="../ES6 & Beyond/ch4.html">
            
                <a href="../ES6 & Beyond/ch4.html">
            
                    
                    Chapter 4: Async Flow Control
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.6" data-path="../ES6 & Beyond/ch5.html">
            
                <a href="../ES6 & Beyond/ch5.html">
            
                    
                    Chapter 5: Collections
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.7" data-path="../ES6 & Beyond/ch6.html">
            
                <a href="../ES6 & Beyond/ch6.html">
            
                    
                    Chapter 6: API Additions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.8" data-path="../ES6 & Beyond/ch7.html">
            
                <a href="../ES6 & Beyond/ch7.html">
            
                    
                    Chapter 7: Meta Programming
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.9" data-path="../ES6 & Beyond/ch8.html">
            
                <a href="../ES6 & Beyond/ch8.html">
            
                    
                    Chapter 8: Beyond ES6
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.10" data-path="../ES6 & Beyond/apA.html">
            
                <a href="../ES6 & Beyond/apA.html">
            
                    
                    Appendix A: Thank You's!
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Appendix C: Lexical-this</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div class="search-plus" id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <div id="anchor-navigation-ex-navbar"><i class="fa fa-navicon"></i><ul><li><span class="title-icon "></span><a href="#you-dont-know-js-scope--closures"><b>1. </b>You Don&apos;t Know JS: Scope &amp; Closures</a></li><li><span class="title-icon "></span><a href="#appendix-c-lexical-this"><b>2. </b>Appendix C: Lexical-this</a></li></ul></div><a href="#you-dont-know-js-scope--closures" id="anchorNavigationExGoTop"><i class="fa fa-arrow-up"></i></a><h1 id="you-dont-know-js-scope--closures"><a name="you-dont-know-js-scope--closures" class="anchor-navigation-ex-anchor" href="#you-dont-know-js-scope--closures"><i class="fa fa-link" aria-hidden="true"></i></a>1. You Don&apos;t Know JS: Scope &amp; Closures</h1>
<h1 id="appendix-c-lexical-this"><a name="appendix-c-lexical-this" class="anchor-navigation-ex-anchor" href="#appendix-c-lexical-this"><i class="fa fa-link" aria-hidden="true"></i></a>2. Appendix C: Lexical-this</h1>
<p>Though this title does not address the <code>this</code> mechanism in any detail, there&apos;s one ES6 topic which relates <code>this</code> to lexical scope in an important way, which we will quickly examine.</p>
<p>ES6 adds a special syntactic form of function declaration called the &quot;arrow function&quot;. It looks like this:</p>
<pre class="language-"><code class="lang-js"><span class="token keyword">var</span> <span class="token function-variable function">foo</span> <span class="token operator">=</span> a <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> a <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token function">foo</span><span class="token punctuation">(</span> <span class="token number">2</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>
</code></pre>
<p>The so-called &quot;fat arrow&quot; is often mentioned as a short-hand for the <em>tediously verbose</em> (sarcasm) <code>function</code> keyword.</p>
<p>But there&apos;s something much more important going on with arrow-functions that has nothing to do with saving keystrokes in your declaration.</p>
<p>Briefly, this code suffers a problem:</p>
<pre class="language-"><code class="lang-js">
<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
    id<span class="token punctuation">:</span> <span class="token string">&quot;awesome&quot;</span><span class="token punctuation">,</span>
    cool<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token function">coolFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">.</span>id <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> id <span class="token operator">=</span> <span class="token string">&quot;not awesome&quot;</span><span class="token punctuation">;</span>

obj<span class="token punctuation">.</span><span class="token function">cool</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// awesome</span>

<span class="token function">setTimeout</span><span class="token punctuation">(</span> obj<span class="token punctuation">.</span>cool<span class="token punctuation">,</span> <span class="token number">100</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// not awesome</span>
</code></pre>
<p>The problem is the loss of <code>this</code> binding on the <code>cool()</code> function. There are various ways to address that problem, but one often-repeated solution is <code>var self = this;</code>.</p>
<p>That might look like:</p>
<pre class="language-"><code class="lang-js"><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
    count<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    cool<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token function">coolFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> self <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>count <span class="token operator">&lt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">setTimeout</span><span class="token punctuation">(</span> <span class="token keyword">function</span> <span class="token function">timer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                self<span class="token punctuation">.</span>count<span class="token operator">++</span><span class="token punctuation">;</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token string">&quot;awesome?&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">100</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

obj<span class="token punctuation">.</span><span class="token function">cool</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// awesome?</span>
</code></pre>
<p>Without getting too much into the weeds here, the <code>var self = this</code> &quot;solution&quot; just dispenses with the whole problem of understanding and properly using <code>this</code> binding, and instead falls back to something we&apos;re perhaps more comfortable with: lexical scope. <code>self</code> becomes just an identifier that can be resolved via lexical scope and closure, and cares not what happened to the <code>this</code> binding along the way.</p>
<p>People don&apos;t like writing verbose stuff, especially when they do it over and over again. So, a motivation of ES6 is to help alleviate these scenarios, and indeed, <em>fix</em> common idiom problems, such as this one.</p>
<p>The ES6 solution, the arrow-function, introduces a behavior called &quot;lexical this&quot;.</p>
<pre class="language-"><code class="lang-js"><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
    count<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    cool<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token function">coolFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>count <span class="token operator">&lt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">setTimeout</span><span class="token punctuation">(</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token comment">// arrow-function ftw?</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>count<span class="token operator">++</span><span class="token punctuation">;</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token string">&quot;awesome?&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">100</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

obj<span class="token punctuation">.</span><span class="token function">cool</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// awesome?</span>
</code></pre>
<p>The short explanation is that arrow-functions do not behave at all like normal functions when it comes to their <code>this</code> binding. They discard all the normal rules for <code>this</code> binding, and instead take on the <code>this</code> value of their immediate lexical enclosing scope, whatever it is.</p>
<p>So, in that snippet, the arrow-function doesn&apos;t get its <code>this</code> unbound in some unpredictable way, it just &quot;inherits&quot; the <code>this</code> binding of the <code>cool()</code> function (which is correct if we invoke it as shown!).</p>
<p>While this makes for shorter code, my perspective is that arrow-functions are really just codifying into the language syntax a common <em>mistake</em> of developers, which is to confuse and conflate &quot;this binding&quot; rules with &quot;lexical scope&quot; rules.</p>
<p>Put another way: why go to the trouble and verbosity of using the <code>this</code> style coding paradigm, only to cut it off at the knees by mixing it with lexical references. It seems natural to embrace one approach or the other for any given piece of code, and not mix them in the same piece of code.</p>
<p><strong>Note:</strong> one other detraction from arrow-functions is that they are anonymous, not named. See Chapter 3 for the reasons why anonymous functions are less desirable than named functions.</p>
<p>A more appropriate approach, in my perspective, to this &quot;problem&quot;, is to use and embrace the <code>this</code> mechanism correctly.</p>
<pre class="language-"><code class="lang-js"><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
    count<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    cool<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token function">coolFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>count <span class="token operator">&lt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">setTimeout</span><span class="token punctuation">(</span> <span class="token keyword">function</span> <span class="token function">timer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>count<span class="token operator">++</span><span class="token punctuation">;</span> <span class="token comment">// `this` is safe because of `bind(..)`</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token string">&quot;more awesome&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span> <span class="token keyword">this</span> <span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">100</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// look, `bind()`!</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

obj<span class="token punctuation">.</span><span class="token function">cool</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// more awesome</span>
</code></pre>
<p>Whether you prefer the new lexical-this behavior of arrow-functions, or you prefer the tried-and-true <code>bind()</code>, it&apos;s important to note that arrow-functions are <strong>not</strong> just about less typing of &quot;function&quot;.</p>
<p>They have an <em>intentional behavioral difference</em> that we should learn and understand, and if we so choose, leverage.</p>
<p>Now that we fully understand lexical scoping (and closure!), understanding lexical-this should be a breeze!</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="apB.html" class="navigation navigation-prev " aria-label="Previous page: Appendix B: Polyfilling Block Scope">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="apD.html" class="navigation navigation-next " aria-label="Next page: Appendix D: Thank You's!">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Appendix C: Lexical-this","level":"1.4.8","depth":2,"next":{"title":"Appendix D: Thank You's!","level":"1.4.9","depth":2,"path":"Scope & Closures/apD.md","ref":"Scope & Closures/apD.md","articles":[]},"previous":{"title":"Appendix B: Polyfilling Block Scope","level":"1.4.7","depth":2,"path":"Scope & Closures/apB.md","ref":"Scope & Closures/apB.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":["-lunr","-sharing","-livereload","-search","search-plus","anchor-navigation-ex","splitter","prism","theme-comscore","livereload"],"pluginsConfig":{"anchor-navigation-ex":{"associatedWithSummary":false,"float":{"floatIcon":"fa fa-navicon","level1Icon":"","level2Icon":"","level3Icon":"","showLevelIcon":false},"mode":"float","multipleH1":true,"pageTop":{"level1Icon":"","level2Icon":"","level3Icon":"","showLevelIcon":false},"printLog":false,"showGoTop":true,"showLevel":true},"prism":{"css":["prismjs/themes/prism-okaidia.css"]},"search-plus":{},"splitter":{},"highlight":{},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-comscore":{},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"Scope & Closures/apC.md","mtime":"2018-09-23T00:16:07.295Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2018-09-23T02:41:01.827Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-search-plus/jquery.mark.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search-plus/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-splitter/splitter.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-theme-comscore/test.js"></script>
        
    

    </body>
</html>

